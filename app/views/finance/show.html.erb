<div class="card">
    <div class="card-header">
        <h5><%= fa_icon_tag('file') %> <%= t('action.detail') %></h5>
        <%= link_to fa_icon_tag('close'), finance_index_path, :class => 'card-header-close' %>
    </div>

    <div class="card-body">
        <div class="row">
            <div class="col-12 d-flex flex-row justify-content-between">
                <h6>
                  <span class="text-gray mr-3"><%= "# #{@project_task.uid}" %></span>
                </h6>
                <div class="btn-group btn-group-sm">
                    <%= link_to edit_finance_path(@project_task), :class => 'btn btn-dark' do %>
                        <%= fa_icon_tag('edit') %> <%= "#{t('action.update')}" %>
                    <% end %>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-12 form-group">
                <span class="badge badge-light"><%= show_creator(@project_task) %></span>
                <span class="badge badge-light"><%= show_timestamps(@project_task) %></span>
            </div>

            <div class="col-6 input-group input-group-sm input-group-align">
                <div class="input-group-prepend">
                    <span class="input-group-text"><%= mt(:project, :name) %></span>
                </div>
                <%= content_tag :span, @project_task.project.name, :class => 'form-control' %>
            </div>
            <div class="col-6 input-group input-group-sm input-group-align">
                <div class="input-group-prepend">
                    <span class="input-group-text"><%= mt(:project, :code) %></span>
                </div>
                <%= content_tag :span, @project_task.project.code, :class => 'form-control' %>
            </div>
            <div class="col-6 input-group input-group-sm input-group-align">
                <div class="input-group-prepend">
                    <span class="input-group-text"><%= mt(:company, :name) %></span>
                </div>
                <%= content_tag :span, @project_task.project.company.name, :class => 'form-control' %>
            </div>
            <div class="col-6 input-group input-group-sm input-group-align">
                <div class="input-group-prepend">
                    <span class="input-group-text"><%= mt(:company, :name_abbr) %></span>
                </div>
                <%= content_tag :span, @project_task.project.company.name_abbr, :class => 'form-control' %>
            </div>

            <div class="col-lg-3 col-6 input-group input-group-sm input-group-align">
                <div class="input-group-prepend">
                    <span class="input-group-text"><%= mt(:project_task, :category) %></span>
                </div>
                <%= content_tag :span, ProjectTask::CATEGORY[@project_task.category], :class => 'form-control' %>
            </div>
            <div class="col-lg-3 col-6 input-group input-group-sm input-group-align">
                <div class="input-group-prepend">
                    <span class="input-group-text"><%= mt(:expert) %></span>
                </div>
                <%= content_tag :span, @project_task.candidate.name, :class => 'form-control' %>
            </div>
            <div class="col-lg-3 col-6 input-group input-group-sm input-group-align">
                <div class="input-group-prepend">
                    <span class="input-group-text"><%= mt(:project_task, :interview_form) %></span>
                </div>
                <%= content_tag :span, ProjectTask::INTERVIEW_FORM[@project_task.interview_form], :class => 'form-control' %>
            </div>
            <div class="col-lg-3 col-6 input-group input-group-sm input-group-align">
                <div class="input-group-prepend">
                    <span class="input-group-text"><%= mt(:project_task, :status) %></span>
                </div>
                <%= content_tag :span, ProjectTask::STATUS[@project_task.status], :class => 'form-control' %>
            </div>
            <div class="col-lg-3 col-6 input-group input-group-sm input-group-align">
                <div class="input-group-prepend">
                    <span class="input-group-text"><%= mt(:project_task, :started_at) %></span>
                </div>
                <%= content_tag :span, @project_task.started_at.strftime('%F %H:%M'), :class => 'form-control' %>
            </div>
            <div class="col-lg-3 col-6 input-group input-group-sm input-group-align">
                <div class="input-group-prepend">
                    <span class="input-group-text"><%= mt(:project_task, :ended_at) %></span>
                </div>
                <%= content_tag :span, @project_task.ended_at.strftime('%F %H:%M'), :class => 'form-control' %>
            </div>
            <div class="col-lg-3 col-6 input-group input-group-sm input-group-align">
                <div class="input-group-prepend">
                    <span class="input-group-text"><%= mt(:project_task, :duration) %></span>
                </div>
                <%= content_tag :span, @project_task.duration, :class => 'form-control' %>
            </div>
            <div class="col-lg-3 col-6 input-group input-group-sm input-group-align">
                <div class="input-group-prepend">
                    <span class="input-group-text"><%= mt(:project_task, :charge_rate) %></span>
                </div>
                <%= content_tag :span, @project_task.charge_rate, :class => 'form-control' %>
            </div>
            <div class="col-lg-3 col-6 input-group input-group-sm input-group-align">
                <div class="input-group-prepend">
                    <span class="input-group-text"><%= mt(:project_task, :base_price) %></span>
                </div>
                <%= content_tag :span, @project_task.base_price, :class => 'form-control' %>
            </div>
            <div class="col-lg-3 col-6 input-group input-group-sm input-group-align">
                <div class="input-group-prepend">
                    <span class="input-group-text"><%= mt(:project_task, :actual_price) %></span>
                </div>
                <%= content_tag :span, @project_task.actual_price, :class => 'form-control' %>
            </div>
            <div class="col-lg-3 col-6 input-group input-group-sm input-group-align">
                <div class="input-group-prepend">
                    <span class="input-group-text"><%= mt(:project_task, :currency) %></span>
                </div>
                <%= content_tag :span, currency_display(@project_task.currency), :class => 'form-control' %>
            </div>
            <div class="col-lg-3 col-6 input-group input-group-sm input-group-align">
                <div class="input-group-prepend">
                    <span class="input-group-text"><%= mt(:project_task, :charge_status) %></span>
                </div>
                <%= content_tag :span, project_task_charge_status_badge(@project_task.charge_status), :class => 'form-control' %>
            </div>

        </div>


        <div class="row pt-3 border-top">
            <div class="col-lg-3 col-6 input-group input-group-sm input-group-align">
                <div class="input-group-prepend">
                    <span class="input-group-text"><%= mt(:project_task, :cost) %></span>
                </div>
                <%= content_tag :span, @project_task.cost, :class => 'form-control' %>
            </div>
            <div class="col-lg-3 col-6 input-group input-group-sm input-group-align">
                <div class="input-group-prepend">
                    <span class="input-group-text"><%= mt(:project_task, :payment_status) %></span>
                </div>
                <%= content_tag :span, project_task_payment_status_badge(@project_task.payment_status), :class => 'form-control' %>
            </div>
            <% if @project_task.cost > 0 %>
                <div class="col-lg-3 col-6 input-group input-group-sm input-group-align">
                    <div class="input-group-prepend">
                        <span class="input-group-text"><%= mt(:project_task, :payment_method) %></span>
                    </div>
                    <%= content_tag :span, CandidatePaymentInfo::CATEGORY[@project_task.payment_method], :class => 'form-control' %>
                </div>
                <div class="col-lg-3 col-6 input-group input-group-sm input-group-align">
                    <div class="input-group-prepend">
                        <span class="input-group-text"><%= mt(:candidate_payment_info, :bank) %></span>
                    </div>
                    <%= content_tag :span, @project_task.payment_info['bank'], :class => 'form-control' %>
                </div>
                <div class="col-lg-3 col-6 input-group input-group-sm input-group-align">
                    <div class="input-group-prepend">
                        <span class="input-group-text"><%= mt(:candidate_payment_info, :account) %></span>
                    </div>
                    <%= content_tag :span, @project_task.payment_info['account'], :class => 'form-control' %>
                </div>
                <div class="col-lg-3 col-6 input-group input-group-sm input-group-align">
                    <div class="input-group-prepend">
                        <span class="input-group-text"><%= mt(:candidate_payment_info, :username) %></span>
                    </div>
                    <%= content_tag :span, @project_task.payment_info['username'], :class => 'form-control' %>
                </div>
                <div class="col-lg-6 col-12 input-group input-group-sm input-group-align">
                    <div class="input-group-prepend">
                        <span class="input-group-text"><%= mt(:project_task, :payment_memo) %></span>
                    </div>
                    <%= content_tag :span, @project_task.payment_info['memo'], :class => 'form-control' %>
                </div>

            <% end %>
        </div>


    </div>
</div>