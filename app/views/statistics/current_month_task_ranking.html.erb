<div class="row">
    <div class="col-12 mb-3">
        <div class="card">
            <div class="card-header">
                <h5 class="mb-0">
                    <%= fa_icon_tag('sort-amount-desc') %>
                    <%= t('dashboard.current_month_charge_duration_ranking') %> ALL
                </h5>
                <%= link_to fa_icon_tag('close'), root_path, :class => 'card-header-close' %>
            </div>
            <div class="card-body p-0">
                <table class="table table-sm card-text border-bottom">
                    <thead>
                    <tr>
                        <th class="pl-3"><%= t('dashboard.ranking') %></th>
                        <th><%= mt(:user, :name_cn) %></th>
                        <th><%= t('dashboard.total_hours') %></th>
                        <th></th>
                    </tr>
                    </thead>
                    <tbody>
                    <% @current_month_task_ranking.each_with_index do |info, index| %>
                        <tr>
                            <th class="pl-3"><%= index + 1 %></th>
                            <td><%= info[:username] %></td>
                            <td><%= (info[:total_minutes] / 60.0).round(1) %> h</td>
                            <td>pm: <%= info[:pm_minutes] %> min, pa: <%= info[:pa_minutes] %> min</td>
                        </tr>
                    <% end %>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>